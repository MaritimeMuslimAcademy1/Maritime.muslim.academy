<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Student Chat Simulator</title>
<style>
body {
  margin:0;
  font-family:Arial,sans-serif;
  background:#111;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  overflow:hidden;
}
.phone-frame {
  width:390px;
  height:844px;
  border:16px solid #000;
  border-radius:50px;
  background:#000;
  overflow:hidden;
  position:relative;
  box-shadow:0 0 40px rgba(0,0,0,0.7);
}
.screen {
  width:100%;
  height:100%;
  position:relative;
  background:#0d1b2a;
}

/* OVERLAY SCREENS */
.overlay {
  position:absolute;
  width:100%;
  height:100%;
  background:rgba(0,0,0,0.95);
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  color:#fff;
  text-align:center;
  font-size:22px;
  transition:0.3s;
}
.overlay input[type=password]{
  padding:10px;
  font-size:20px;
  border-radius:12px;
  border:none;
  text-align:center;
  margin-top:20px;
  width:60%;
}
.overlay button {
  margin-top:20px;
  padding:10px 20px;
  border:none;
  border-radius:12px;
  background:#007bff;
  color:#fff;
  font-size:18px;
  cursor:pointer;
}

/* HOME SCREEN */
.home-screen {
  display:none;
  flex-wrap:wrap;
  padding:40px 20px;
  gap:20px;
  justify-content:center;
}
.app {
  width:70px;
  height:70px;
  background:#222;
  border-radius:16px;
  display:flex;
  justify-content:center;
  align-items:center;
  color:#fff;
  font-size:12px;
  text-align:center;
  cursor:pointer;
  user-select:none;
  position:relative;
}
.app.dragging { opacity:0.5; }

/* PHONE APPS */
.phone-screen {
  position:absolute;
  top:0; left:0;
  width:100%; height:100%;
  background:#0d1b2a;
  display:none;
  flex-direction:column;
}
.header {
  padding:10px;
  background:rgba(10,15,30,0.9);
  text-align:center;
  font-weight:bold;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.header button{
  background:#007bff22;
  border:1px solid #007bff44;
  border-radius:8px;
  padding:5px 10px;
  cursor:pointer;
}
.chat-container { display:flex; flex:1; height:calc(100% - 40px); }
.contacts-list { width:30%; background:#111; overflow-y:auto; display:flex; flex-direction:column; gap:2px; }
.contact { padding:10px; display:flex; align-items:center; gap:8px; cursor:pointer; background:#0d1b2a; color:#fff; }
.contact:hover { background:#007bff11; }
.contact .avatar { width:32px; height:32px; border-radius:50%; background-size:cover; background-position:center; flex-shrink:0; }
.contact .name { font-size:14px; opacity:0.9; }
.chat-area { flex:1; display:flex; flex-direction:column; }
.chat-messages { flex:1; background:#0d1b2a; padding:8px; display:flex; flex-direction:column; gap:8px; overflow-y:auto; }
.chat-input-area { display:flex; gap:5px; padding:8px; border-top:1px solid #007bff44; background:#0d1b2a; }
.chat-input-area input { flex:1; padding:8px 10px; border-radius:20px; border:1px solid #007bff44; background:#000; color:#fff; cursor:not-allowed; }
.chat-input-area button { padding:8px 12px; border-radius:12px; border:1px solid #007bff44; background:#007bff22; color:#fff; cursor:not-allowed; }
.message { display:flex; gap:8px; max-width:80%; padding:8px 12px; border-radius:12px; word-wrap:break-word; position:relative; }
.message.me { align-self:flex-end; background:#007bff33; flex-direction:row-reverse; }
.message.other { align-self:flex-start; background:#222; }
.message .avatar { width:28px; height:28px; border-radius:50%; flex-shrink:0; background-size:cover; background-position:center; }
.message-content { display:flex; flex-direction:column; }
.username { font-size:12px; font-weight:bold; opacity:0.8; margin-bottom:2px; }
.delete-btn { position:absolute; top:4px; right:4px; background:#ff000044; border:none; color:#fff; font-size:10px; border-radius:4px; cursor:pointer; padding:1px 3px; }
.liked { color:#ff0000; }
</style>
</head>
<body>

<div class="phone-frame">
  <div class="screen" id="screen">
    <!-- WELCOME -->
    <div class="overlay" id="welcomeScreen">
      <div>Hello</div>
      <div>Select Language</div>
      <button onclick="nextStep('faceID')">Next</button>
    </div>
    <div class="overlay" id="faceID" style="display:none;">
      <div>Face ID Setup</div>
      <button onclick="nextStep('passcode')">Next</button>
    </div>
    <div class="overlay" id="passcode" style="display:none;">
      <div>Set Passcode</div>
      <input type="password" id="passInput" placeholder="Enter PIN">
      <button onclick="nextStep('mode')">Next</button>
    </div>
    <div class="overlay" id="mode" style="display:none;">
      <div>Choose Mode</div>
      <button onclick="setMode('light')">Light</button>
      <button onclick="setMode('dark')">Dark</button>
    </div>
    <!-- HOME -->
    <div class="overlay home-screen" id="homeScreen">
      <div class="app" draggable="true" onclick="openApp('chat')">Student Chat</div>
    </div>
  </div>
</div>

<!-- STUDENT CHAT APP -->
<div id="chat" class="phone-screen" style="display:flex;flex-direction:column;">
  <div class="header">Student Chat <button onclick="closeApp('chat')">Back</button></div>
  <div class="chat-container">
    <div class="contacts-list" id="contactsList"></div>
    <div class="chat-area">
      <div class="chat-messages" id="chatScreen"></div>
      <div class="chat-input-area">
        <input type="text" placeholder="Type a message..." disabled>
        <button disabled>Send</button>
      </div>
    </div>
  </div>
</div>

<script>
// USER INFO
let username = "Your Account";
let avatar = "https://i.imgur.com/oCkEbrA.jpg";

// SETUP FLOW
function nextStep(step){
  document.querySelectorAll('.overlay').forEach(o=>o.style.display='none');
  document.getElementById(step).style.display='flex';
  if(step==='home') loadHome();
}
function setMode(mode){
  document.body.style.background = mode==='light' ? '#eee' : '#111';
  nextStep('home');
}

// HOME SCREEN
function loadHome(){ document.getElementById('homeScreen').style.display='flex'; }
function openApp(app){
  document.getElementById('screen').style.display='none';
  document.getElementById(app).style.display='flex';
  if(app==='chat') loadChat();
}
function closeApp(app){ document.getElementById(app).style.display='none'; document.getElementById('screen').style.display='block'; }

// CHAT
let contacts = [
  {name:"Yousef", avatar:"https://i.imgur.com/oCkEbrA.jpg", messages:[]}
];
let activeContact = null;

const contactsList = document.getElementById('contactsList');
const chatScreen = document.getElementById('chatScreen');

function loadChat(){
  contactsList.innerHTML='';
  contacts.forEach((c,i)=>{
    const div=document.createElement('div');
    div.className='contact';
    div.innerHTML=`<div class="avatar" style="background-image:url('${c.avatar}')"></div><div class="name">${c.name}</div>`;
    div.onclick=()=>openContact(i);
    contactsList.appendChild(div);
  });
}

function openContact(i){
  activeContact = contacts[i];
  chatScreen.innerHTML = '';
  activeContact.messages.forEach(m=>{
    chatScreen.appendChild(createMessage(m.username,m.text,m.me,m.avatar));
  });
  chatScreen.scrollTop = chatScreen.scrollHeight;
}

function createMessage(user,text,me=false,avatarSrc=avatar){
  const div=document.createElement('div'); 
  div.className='message '+(me?'me':'other'); 
  div.innerHTML=`
    <div class="avatar" style="background-image:url('${avatarSrc}')"></div>
    <div class="message-content">
      <div class="username">${user}</div>
      <div class="text">${text}</div>
    </div>
    <button class="delete-btn">x</button>`;
  div.querySelector('.delete-btn').onclick=(e)=>{
    e.stopPropagation();
    div.remove();
    if(activeContact) activeContact.messages = activeContact.messages.filter(m=>m.text!==text||m.username!==user);
  };
  div.ondblclick = ()=> div.classList.toggle('liked');
  return div;
}

// INITIALIZE CHAT
loadChat();
</script>

</body>
</html>
