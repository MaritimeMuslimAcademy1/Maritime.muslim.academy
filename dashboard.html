<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smart Box</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background-color: #000;
  color: #fff;
}

/* Floating Smart Box */
#smartBox {
  position: fixed;
  bottom: 20px;
  right: 20px;
  width: 360px;
  height: 480px;
  background: linear-gradient(to bottom, #001F3F, #0A2A5A);
  border-radius: 16px;
  box-shadow: 0 0 15px #00BFFF55;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  z-index: 9999;
}

/* Header */
#smartBoxHeader {
  display: flex;
  align-items: center;
  padding: 10px;
  background: rgba(0, 191, 255, 0.1);
  border-bottom: 1px solid #00BFFF44;
}

#smartBoxHeader img {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  margin-right: 10px;
  object-fit: cover;
}

#smartBoxHeader span {
  font-weight: bold;
  font-size: 14px;
}

/* Chat content */
#chatContent {
  flex: 1;
  padding: 10px;
  overflow-y: auto;
}

.message {
  margin-bottom: 10px;
  padding: 8px 12px;
  border-radius: 12px;
  max-width: 80%;
}

.ai {
  background-color: #007bff22;
  color: #fff;
  align-self: flex-start;
}

.user {
  background-color: #222;
  color: #fff;
  align-self: flex-end;
}

/* Input area */
#chatInputArea {
  display: flex;
  border-top: 1px solid #00BFFF44;
  padding: 8px;
  background: rgba(0,0,0,0.5);
}

#chatInput {
  flex: 1;
  padding: 8px 12px;
  border-radius: 12px;
  border: none;
  background-color: #222;
  color: #fff;
}

#sendBtn {
  margin-left: 8px;
  padding: 8px 12px;
  border-radius: 12px;
  border: none;
  background-color: #00BFFF;
  color: #000;
  font-weight: bold;
  cursor: pointer;
}

#backBtn {
  position: absolute;
  top: 10px;
  right: 10px;
  padding: 4px 8px;
  font-size: 12px;
  background-color: #222;
  border: none;
  border-radius: 8px;
  color: #fff;
  cursor: pointer;
}
</style>
</head>
<body>

<div id="smartBox">
  <div id="smartBoxHeader">
    <img src="https://scontent-lga3-3.xx.fbcdn.net/v/t39.30808-6/597164807_1335245238401700_1090041719849665448_n.jpg" alt="School Logo">
    <span>Smart Box</span>
  </div>
  <button id="backBtn">Back</button>
  <div id="chatContent">
    <div class="message ai">Salam Alaykum, how can I help you today?</div>
  </div>
  <div id="chatInputArea">
    <input type="text" id="chatInput" placeholder="Type your message here...">
    <button id="sendBtn">Send</button>
  </div>
</div>

<script>
const chatContent = document.getElementById('chatContent');
const chatInput = document.getElementById('chatInput');
const sendBtn = document.getElementById('sendBtn');
const backBtn = document.getElementById('backBtn');
const smartBox = document.getElementById('smartBox');

// Predefined AI answers (you can add more commands here)
const aiResponses = {
  "who is number one in leaderboard": "The top student is Ahmed, Grade 12.",
  "school hours": "School hours are 8:00 AM - 3:00 PM.",
  "principal name": "The principal is Mr. Ali."
};

sendBtn.addEventListener('click', sendMessage);
chatInput.addEventListener('keypress', function(e) {
  if(e.key === 'Enter') sendMessage();
});

function sendMessage() {
  const userText = chatInput.value.trim();
  if(userText === "") return;

  // Add user message
  const userMsg = document.createElement('div');
  userMsg.classList.add('message','user');
  userMsg.textContent = userText;
  chatContent.appendChild(userMsg);
  chatInput.value = '';
  chatContent.scrollTop = chatContent.scrollHeight;

  // AI response
  let response = aiResponses[userText.toLowerCase()] || "Sorry, I donâ€™t have that information. Please ask something else.";
  const aiMsg = document.createElement('div');
  aiMsg.classList.add('message','ai');
  aiMsg.textContent = response;
  chatContent.appendChild(aiMsg);
  chatContent.scrollTop = chatContent.scrollHeight;
}

// Back button clears chat and closes box
backBtn.addEventListener('click', () => {
  chatContent.innerHTML = '<div class="message ai">Salam Alaykum, how can I help you today?</div>';
  smartBox.style.display = 'none'; // hide box
});

// Example to open Smart Box (in real dashboard, this would be triggered on click)
smartBox.style.display = 'block'; // show by default for testing
</script>

</body>
</html>
